{% extends 'vacancies/base.html' %}

{% block title %}{{ vacancy.name }} - HH API{% endblock %}

{% block content %}
<div class="card">
    <div style="margin-bottom: 20px;">
        <a href="{% url 'vacancies:vacancy_list' %}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
    </div>
    
    <h1 style="color: #667eea; margin-bottom: 20px;">{{ vacancy.name }}</h1>
    
    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 15px;">
            {% if vacancy.employer_logo_url %}
            <img src="{{ vacancy.employer_logo_url }}" alt="{{ vacancy.employer_name }}" 
                 style="width: 100px; height: 100px; object-fit: contain; border-radius: 8px; background: white; padding: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            {% endif %}
            <div>
                <p style="font-size: 18px; margin-bottom: 10px;">
                    <strong>{{ vacancy.employer_name }}</strong>
                </p>
                {% if vacancy.area_name %}
                <p style="color: #666; margin-bottom: 10px;">
                    üìç {{ vacancy.area_name }}
                </p>
                {% endif %}
                {% if vacancy.professional_role %}
                <p style="color: #667eea; margin-bottom: 10px; font-weight: 500;">
                    üìã {{ vacancy.professional_role }}
                </p>
                {% endif %}
            </div>
        </div>
        
        {% if vacancy.salary_from or vacancy.salary_to %}
        <p style="font-size: 20px; color: #28a745; font-weight: 600; margin-bottom: 10px;">
            üí∞ 
            {% if vacancy.salary_from and vacancy.salary_to %}
                {{ vacancy.salary_from|floatformat:0 }} - {{ vacancy.salary_to|floatformat:0 }} {{ vacancy.salary_currency }}
            {% elif vacancy.salary_from %}
                –æ—Ç {{ vacancy.salary_from|floatformat:0 }} {{ vacancy.salary_currency }}
            {% elif vacancy.salary_to %}
                –¥–æ {{ vacancy.salary_to|floatformat:0 }} {{ vacancy.salary_currency }}
            {% endif %}
        </p>
        {% endif %}
    </div>
    
    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 30px;">
        {% if vacancy.experience %}
        <span style="background: #667eea; color: white; padding: 8px 16px; border-radius: 4px; font-size: 14px;">
            –û–ø—ã—Ç: {{ vacancy.experience }}
        </span>
        {% endif %}
        {% if vacancy.employment %}
        <span style="background: #667eea; color: white; padding: 8px 16px; border-radius: 4px; font-size: 14px;">
            {{ vacancy.employment }}
        </span>
        {% endif %}
        {% if vacancy.schedule %}
        <span style="background: #667eea; color: white; padding: 8px 16px; border-radius: 4px; font-size: 14px;">
            {{ vacancy.schedule }}
        </span>
        {% endif %}
    </div>
    
    {% if vacancy.responsibility %}
    <div style="margin-bottom: 30px;">
        <h2 style="color: #667eea; margin-bottom: 15px;">–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:</h2>
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; line-height: 1.8;">
            {{ vacancy.responsibility|linebreaks }}
        </div>
    </div>
    {% endif %}
    
    {% if vacancy.requirement %}
    <div style="margin-bottom: 30px;">
        <h2 style="color: #667eea; margin-bottom: 15px;">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</h2>
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; line-height: 1.8;">
            {{ vacancy.requirement|linebreaks }}
        </div>
    </div>
    {% endif %}
    
    {% if vacancy.description %}
    <div style="margin-bottom: 30px;">
        <h2 style="color: #667eea; margin-bottom: 15px;">–û–ø–∏—Å–∞–Ω–∏–µ:</h2>
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; line-height: 1.8;">
            {{ vacancy.description|safe }}
        </div>
    </div>
    {% endif %}
    
    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;">
        {% if vacancy.url %}
        <a href="{{ vacancy.url }}" target="_blank" class="btn" style="margin-right: 10px;">
            –û—Ç–∫—Ä—ã—Ç—å –Ω–∞ HeadHunter ‚Üí
        </a>
        {% endif %}
        
        {% if vacancy.published_at %}
        <p style="color: #666; margin-top: 15px;">
            –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ vacancy.published_at|date:"d.m.Y H:i" }}
        </p>
        {% endif %}
    </div>
</div>
{% endblock %}

